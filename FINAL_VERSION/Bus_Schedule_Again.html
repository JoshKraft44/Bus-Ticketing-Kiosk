<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bus Schedule</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="shared.css">
  <style>
    body { text-align: center; }

    .schedule-header {
      background: #1a1a2e;
      color: white;
      padding: 18px 0 14px;
      margin-bottom: 30px;
      border-radius: 0 0 16px 16px;
      max-width: 560px;
      margin-left: auto;
      margin-right: auto;
    }
    .schedule-header h1 {
      font-size: 26px;
      margin: 0 0 4px;
    }
    .schedule-header .live-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-size: 15px;
      color: #aaa;
    }
    .live-dot {
      width: 10px; height: 10px;
      background: #4caf50;
      border-radius: 50%;
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    .schedule-list {
      list-style: none;
      padding: 0;
      margin: 0 auto;
      max-width: 520px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .schedule-row {
      display: flex;
      align-items: center;
      background: white;
      border-radius: 12px;
      padding: 16px 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      transition: transform 0.15s;
    }
    .schedule-row:hover {
      transform: scale(1.015);
    }

    .route-badge {
      width: 52px; height: 52px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 20px;
      color: white;
      flex-shrink: 0;
    }

    .route-info {
      flex: 1;
      text-align: left;
      margin-left: 18px;
    }
    .route-dest {
      font-size: 20px;
      font-weight: 600;
      color: #222;
    }
    .route-sub {
      font-size: 14px;
      color: #888;
      margin-top: 2px;
    }

    .route-time {
      text-align: right;
      flex-shrink: 0;
    }
    .time-value {
      font-size: 22px;
      font-weight: 700;
    }
    .time-label {
      font-size: 13px;
      color: #888;
    }

    .time-soon .time-value { color: #2e7d32; }
    .time-moderate .time-value { color: #ef6c00; }
    .time-later .time-value { color: #555; }

    .arriving-badge {
      display: inline-block;
      background: #e8f5e9;
      color: #2e7d32;
      font-size: 12px;
      font-weight: 600;
      padding: 2px 8px;
      border-radius: 6px;
      margin-top: 2px;
    }
  </style>
</head>
<body>

  <header>
    <img src="coc-logo.svg" alt="Calgary Logo" />
  </header>

  <div class="schedule-header">
    <h1><i class="fas fa-map-marker-alt"></i> 31st Street NW Station</h1>
    <div class="live-row">
      <span class="live-dot"></span>
      <span>Live Departures</span>
      <span style="margin-left: 8px;" id="clock"></span>
    </div>
  </div>

  <ul class="schedule-list">
    <li class="schedule-row">
      <div class="route-badge" style="background:#c8102e;">14</div>
      <div class="route-info">
        <div class="route-dest">Dalhousie St.</div>
        <div class="route-sub"><i class="fas fa-bus"></i> Route 14 - Northbound</div>
      </div>
      <div class="route-time time-soon">
        <div class="time-value">7 min</div>
        <div class="arriving-badge">Arriving Soon</div>
      </div>
    </li>
    <li class="schedule-row">
      <div class="route-badge" style="background:#1565c0;">109</div>
      <div class="route-info">
        <div class="route-dest">Center St.</div>
        <div class="route-sub"><i class="fas fa-bus"></i> Route 109 - Southbound</div>
      </div>
      <div class="route-time time-soon">
        <div class="time-value">9 min</div>
        <div class="arriving-badge">Arriving Soon</div>
      </div>
    </li>
    <li class="schedule-row">
      <div class="route-badge" style="background:#6a1b9a;">77</div>
      <div class="route-info">
        <div class="route-dest">Downtown 1</div>
        <div class="route-sub"><i class="fas fa-bus"></i> Route 77 - Express</div>
      </div>
      <div class="route-time time-moderate">
        <div class="time-value">13 min</div>
        <div class="time-label">Scheduled</div>
      </div>
    </li>
    <li class="schedule-row">
      <div class="route-badge" style="background:#2e7d32;">36</div>
      <div class="route-info">
        <div class="route-dest">Renfrew</div>
        <div class="route-sub"><i class="fas fa-bus"></i> Route 36 - Eastbound</div>
      </div>
      <div class="route-time time-later">
        <div class="time-value">22 min</div>
        <div class="time-label">Scheduled</div>
      </div>
    </li>
    <li class="schedule-row">
      <div class="route-badge" style="background:#ef6c00;">7</div>
      <div class="route-info">
        <div class="route-dest">Corner St.</div>
        <div class="route-sub"><i class="fas fa-bus"></i> Route 7 - Westbound</div>
      </div>
      <div class="route-time time-later">
        <div class="time-value">27 min</div>
        <div class="time-label">Scheduled</div>
      </div>
    </li>
    <li class="schedule-row">
      <div class="route-badge" style="background:#37474f;">9</div>
      <div class="route-info">
        <div class="route-dest">Dalhousie LRT Station</div>
        <div class="route-sub"><i class="fas fa-train"></i> Route 9 - LRT Connector</div>
      </div>
      <div class="route-time time-later">
        <div class="time-value">30 min</div>
        <div class="time-label">Scheduled</div>
      </div>
    </li>
  </ul>

  <div class="divider"></div>

  <div class="btn-bar">
    <a href="Transaction_Complete.html" class="nav-btn" title="Back">
      <i class="fas fa-arrow-left"></i>
    </a>
    <a id="cancel-btn" href="PressToBegin.html" class="nav-btn" title="Cancel">
      <i class="fas fa-times" style="color: #9c2121;"></i>
    </a>
    <button class="nav-btn" onclick="openGuide()" title="Help">
      <i class="fas fa-question-circle"></i>
    </button>
  </div>

  <div id="guideOverlay" onclick="closeGuide()"></div>
  <div id="guidePopup">
    <h2>Bus Ticketing Kiosk: Quick Guide</h2>
      <p>On the bottom of each page, the right arrow is back, the X is cancel session, and the ? is the guide. </p>
    <h3>How to Use the Kiosk:</h3>
    <ol>
      <li><strong>After pressing "Press to Begin" on the start screen</strong>
        <br/>Select an option: Buy Tickets/Pass, Reload Transit Card, or View Bus Schedule/Map.</li>
      <li><strong>Select Ticket|Pass Type</strong>
        <br/>Choose from single-use, round-trip under ticket; or choose daily, monthly, or yearly passes under passes.
      (<strong>Note:</strong> If you select Transit Card, enter the amount you want to load onto a Transit card and then pay!)</li>
      <li><strong>Choose Your User Group</strong>
        <br/>Adult, Senior, Student, or Minor are the options. Use the +/- buttons to select quantity then press "Add to Cart". </li>
      <li><strong>Review Cart</strong>
        <br/>Double check the cart and then you can either add more items or checkout.</li>
      <li><strong>Make a Payment</strong>
        <br/>Can use cash or card. Follow on-screen instructions.</li>
      <li><strong>Transaction Complete!</strong>
        <br/>Take your ticket(s) and receipt. Additionally you can view the bus schedule/map or press "Done"</li>
    </ol>
    <h3>Additional Tips</h3>
      <li><strong>Tourists:</strong>
        Change language on the start screen.</li>
      <li><strong>Students:</strong>
        Enter student ID for discounts after pressing + on student.</li>
      <li><strong>Groups:</strong> Can purchase multiple tickets in one session.</li>
    <br/>
    <button class="close-guide-btn" onclick="closeGuide()">Close</button>
  </div>

  <script src="shared.js"></script>
  <script>
    function updateClock() {
      var now = new Date();
      var h = now.getHours();
      var m = now.getMinutes();
      var ampm = h >= 12 ? 'PM' : 'AM';
      h = h % 12 || 12;
      m = m < 10 ? '0' + m : m;
      document.getElementById('clock').textContent = h + ':' + m + ' ' + ampm;
    }
    updateClock();
    setInterval(updateClock, 30000);
  </script>
</body>
</html>
